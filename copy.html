<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>明天大佬牛逼</title>
</head>

<body>
  <div id="app">
    <p class="copy-text-box">有内鬼，终止交易</p>
    <button @click="click" class="copy-btn needsclick">点击复制</button>
    <textarea name="" id="" cols="30" rows="10" placeholder="自己手动粘贴"></textarea>
  </div>

</body>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script>
  var app = new Vue({
    el: '#app',
    data: {
      message: 'Hello Vue!'
    },
    methods: {
      // 点击复制
      click(){
        var text =document.querySelector('.copy-text-box').innerHTML
        this.copyLink(text)
      },
      copyLink(value) {
        var oInput = document.createElement('textarea')
        document.body.appendChild(oInput)
        oInput.style.width = '0'
        oInput.style.height = '0'
        oInput.style.position = 'absolute'
        oInput.style.opacity = '0'
        oInput.value = value

        let ua = window.navigator.userAgent,
          app = window.navigator.appVersion;
        if (!!ua.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)) {
          //获取点击的值

          oInput.focus();
          oInput.setSelectionRange(0, 9999);
          // 执行浏览器复制命令
          document.execCommand("copy");
          //提示已复制
          // this.$pixToast.show(this.$t("_language.scheduleDetails.copied"), 2000);
        } else if (ua.indexOf("Android") > -1 || ua.indexOf("Adr") > -1) {
          // android端
          //选中input框的内容
          oInput.select();
          // 执行浏览器复制命令
          document.execCommand("copy");
          // this.$pixToast.show(this.$t("_language.scheduleDetails.copied"), 2000);
        }
        if (ua.match(/MicroMessenger/i) == "MicroMessenger") {
          // 微信浏览器
          console.log("微信浏览器");
        }
        document.body.removeChild(oInput)
      },
    },
  })
</script>

</html>